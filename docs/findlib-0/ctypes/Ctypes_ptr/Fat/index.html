<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Fat (docs.findlib-0.ctypes.Ctypes_ptr.Fat)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 3.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../../../index.html">Index</a> &#x00BB; <a href="../../../../index.html">docs</a> &#x00BB; <a href="../../../index.html">findlib-0</a> &#x00BB; <a href="../../index.html">ctypes</a> &#x00BB; <a href="../index.html">Ctypes_ptr</a> &#x00BB; Fat</nav><header class="odoc-preamble"><h1>Module <code><span>Ctypes_ptr.Fat</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>(_, _) t</span></span></code></div><div class="spec-doc"><p>A fat pointer, which holds a reference to the reference type, the C memory location, and an OCaml object.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make"><a href="#val-make" class="anchor"></a><code><span><span class="keyword">val</span> make : <span><span class="label">managed</span>:<span class="type-var">'m</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">reftyp</span>:<span class="type-var">'typ</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../index.html#type-voidp">voidp</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'m</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>make ?managed ~reftyp raw</code> builds a fat pointer from the reference type <code>reftyp</code>, the C memory location <code>raw</code>, and (optionally) an OCaml value, <code>managed</code>. The <code>managed</code> argument may be used to manage the lifetime of the C object; a typical use it to attach a finaliser to <code>managed</code> which releases the memory associated with the C object whose address is stored in <code>raw_ptr</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_null"><a href="#val-is_null" class="anchor"></a><code><span><span class="keyword">val</span> is_null : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-reftype"><a href="#val-reftype" class="anchor"></a><code><span><span class="keyword">val</span> reftype : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'typ</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-managed"><a href="#val-managed" class="anchor"></a><code><span><span class="keyword">val</span> managed : <span><span><span>(<span class="type-var">'m</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'m</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-set_managed"><a href="#val-set_managed" class="anchor"></a><code><span><span class="keyword">val</span> set_managed : <span><span><span>(<span class="type-var">'m</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'m</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-coerce"><a href="#val-coerce" class="anchor"></a><code><span><span class="keyword">val</span> coerce : <span><span><span>(<span class="type-var">'m</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'typ</span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'m</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unsafe_raw_addr"><a href="#val-unsafe_raw_addr" class="anchor"></a><code><span><span class="keyword">val</span> unsafe_raw_addr : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">_</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../index.html#type-voidp">voidp</a></span></code></div><div class="spec-doc"><p>Return the raw pointer address. The function is unsafe in the sense that it dissociates the address from the value which manages the memory, which may trigger associated finalisers, invalidating the address.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_bytes"><a href="#val-add_bytes" class="anchor"></a><code><span><span class="keyword">val</span> add_bytes : <span><span><span>(<span class="type-var">'m</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span>int <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="type-var">'m</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-diff_bytes"><a href="#val-diff_bytes" class="anchor"></a><code><span><span class="keyword">val</span> diff_bytes : <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<span class="type-var">_</span>, <span class="type-var">'typ</span>)</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div></div></body></html>
